<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LBA Hospitality - Change Request Form</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for a clean look */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
        }
        /* Style for required fields */
        .required-label::after {
            content: '*';
            color: #ef4444; /* Red color for asterisk */
            margin-left: 0.25rem;
        }
        /* Style for a simple message box */
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            z-index: 1000;
            text-align: center;
            border: 1px solid #ccc;
        }
        .message-box button {
            background-color: #4f46e5;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            margin-top: 1rem;
            cursor: pointer;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto bg-white p-6 md:p-10 rounded-lg shadow-xl border border-gray-200">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8">LBA HOSPITALITY â€“ CHANGE REQUEST FORM</h1>

        <form id="changeRequestForm">
            <!-- Section 1: General Information -->
            <section class="mb-8 p-6 bg-gray-50 rounded-lg border border-gray-100">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-3">Section 1: General Information</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="changeRequestId" class="block text-sm font-medium text-gray-700 required-label mb-1">Change Request ID:</label>
                        <input type="text" id="changeRequestId" name="Change Request ID"
                               value="CR-YYYY-MM-DD-XXX" placeholder="CR-YYYY-MM-DD-XXX"
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="dateSubmitted" class="block text-sm font-medium text-gray-700 required-label mb-1">Date Submitted:</label>
                        <input type="date" id="dateSubmitted" name="Date Submitted"
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                </div>

                <div class="mb-6">
                    <label for="requestedBy" class="block text-sm font-medium text-gray-700 required-label mb-1">Requested By:</label>
                    <input type="text" id="requestedBy" name="Requested By" placeholder="Your Name"
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 required-label mb-2">Department:</label>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-y-2 gap-x-4">
                        <div class="flex items-center">
                            <input id="dept-it" name="Department" type="checkbox" value="IT"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                            <label for="dept-it" class="ml-2 block text-sm text-gray-900">IT</label>
                        </div>
                        <div class="flex items-center">
                            <input id="dept-operations" name="Department" type="checkbox" value="Operations"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                            <label for="dept-operations" class="ml-2 block text-sm text-gray-900">Operations</label>
                        </div>
                        <div class="flex items-center">
                            <input id="dept-facilities" name="Department" type="checkbox" value="Facilities"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                            <label for="dept-facilities" class="ml-2 block text-sm text-gray-900">Facilities</label>
                        </div>
                        <div class="flex items-center">
                            <input id="dept-guest-services" name="Department" type="checkbox" value="Guest Services"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                            <label for="dept-guest-services" class="ml-2 block text-sm text-gray-900">Guest Services</label>
                        </div>
                        <div class="flex items-center">
                            <input id="dept-other" name="Department" type="checkbox" value="Other"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                            <label for="dept-other" class="ml-2 block text-sm text-gray-900">Other:</label>
                            <input type="text" id="dept-other-text" name="Department (Other)" placeholder="Specify"
                                   class="ml-2 flex-grow px-2 py-1 border border-gray-300 rounded-md text-sm">
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 required-label mb-2">Priority Level:</label>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex items-center">
                            <input id="priority-low" name="Priority Level" type="radio" value="Low"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="priority-low" class="ml-2 block text-sm text-gray-900">Low</label>
                        </div>
                        <div class="flex items-center">
                            <input id="priority-medium" name="Priority Level" type="radio" value="Medium"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="priority-medium" class="ml-2 block text-sm text-gray-900">Medium</label>
                        </div>
                        <div class="flex items-center">
                            <input id="priority-high" name="Priority Level" type="radio" value="High"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="priority-high" class="ml-2 block text-sm text-gray-900">High</label>
                        </div>
                        <div class="flex items-center">
                            <input id="priority-emergency" name="Priority Level" type="radio" value="Emergency"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="priority-emergency" class="ml-2 block text-sm text-gray-900">Emergency</label>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 required-label mb-2">Type of Change:</label>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex items-center">
                            <input id="change-standard" name="Type of Change" type="radio" value="Standard"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="change-standard" class="ml-2 block text-sm text-gray-900">Standard</label>
                        </div>
                        <div class="flex items-center">
                            <input id="change-normal" name="Type of Change" type="radio" value="Normal"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="change-normal" class="ml-2 block text-sm text-gray-900">Normal</label>
                        </div>
                        <div class="flex items-center">
                            <input id="change-emergency" name="Type of Change" type="radio" value="Emergency"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="change-emergency" class="ml-2 block text-sm text-gray-900">Emergency</label>
                        </div>
                        <div class="flex items-center">
                            <input id="change-major" name="Type of Change" type="radio" value="Major"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="change-major" class="ml-2 block text-sm text-gray-900">Major</label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 2: Change Description -->
            <section class="mb-8 p-6 bg-gray-50 rounded-lg border border-gray-100">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-3">Section 2: Change Description</h2>

                <div class="mb-6">
                    <label for="titleOfChange" class="block text-sm font-medium text-gray-700 required-label mb-1">Title of Change:</label>
                    <input type="text" id="titleOfChange" name="Title of Change" placeholder="Brief title of the change"
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>

                <div class="mb-6">
                    <label for="descriptionOfChange" class="block text-sm font-medium text-gray-700 required-label mb-1">Description of Change:</label>
                    <textarea id="descriptionOfChange" name="Description of Change" rows="5"
                              placeholder="Provide a clear summary of the change. Include purpose and background."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>

                <div class="mb-6">
                    <label for="reasonForChange" class="block text-sm font-medium text-gray-700 required-label mb-1">Reason for Change:</label>
                    <textarea id="reasonForChange" name="Reason for Change" rows="4"
                              placeholder="What is the business, operational, or technical justification?"
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>

                <div>
                    <label for="affectedSystemsLocations" class="block text-sm font-medium text-gray-700 required-label mb-1">Affected Systems/Locations:</label>
                    <textarea id="affectedSystemsLocations" name="Affected Systems/Locations" rows="3"
                              placeholder="List hotels, systems, or departments affected by this change."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>
            </section>

            <!-- Section 3: Impact Assessment -->
            <section class="mb-8 p-6 bg-gray-50 rounded-lg border border-gray-100">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-3">Section 3: Impact Assessment</h2>

                <div class="mb-6">
                    <label for="businessImpact" class="block text-sm font-medium text-gray-700 required-label mb-1">Business Impact:</label>
                    <textarea id="businessImpact" name="Business Impact" rows="4"
                              placeholder="Explain how the change may affect hotel operations, guests, or staff."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>

                <div class="mb-6">
                    <label for="riskAssessment" class="block text-sm font-medium text-gray-700 required-label mb-1">Risk Assessment:</label>
                    <textarea id="riskAssessment" name="Risk Assessment" rows="4"
                              placeholder="List potential risks and mitigation steps."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 required-label mb-2">Downtime Required:</label>
                        <div class="flex gap-4">
                            <div class="flex items-center">
                                <input id="downtime-yes" name="Downtime Required" type="radio" value="Yes"
                                       class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                <label for="downtime-yes" class="ml-2 block text-sm text-gray-900">Yes</label>
                            </div>
                            <div class="flex items-center">
                                <input id="downtime-no" name="Downtime Required" type="radio" value="No" checked
                                       class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                <label for="downtime-no" class="ml-2 block text-sm text-gray-900">No</label>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="estimatedDuration" class="block text-sm font-medium text-gray-700 mb-1">If Yes, Estimated Duration:</label>
                        <input type="text" id="estimatedDuration" name="Estimated Duration (Downtime)" placeholder="e.g., 2 hours"
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 required-label mb-2">Guest-Facing Impact?</label>
                    <div class="flex gap-4 mb-2">
                        <div class="flex items-center">
                            <input id="guest-impact-yes" name="Guest-Facing Impact" type="radio" value="Yes"
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="guest-impact-yes" class="ml-2 block text-sm text-gray-900">Yes</label>
                        </div>
                        <div class="flex items-center">
                            <input id="guest-impact-no" name="Guest-Facing Impact" type="radio" value="No" checked
                                   class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                            <label for="guest-impact-no" class="ml-2 block text-sm text-gray-900">No</label>
                        </div>
                    </div>
                    <textarea id="guestImpactExplanation" name="Guest Impact Explanation" rows="3"
                              placeholder="Explain how guest experience may be affected and planned communications."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>
            </section>

            <!-- Section 4: Implementation Plan -->
            <section class="mb-8 p-6 bg-gray-50 rounded-lg border border-gray-100">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-3">Section 4: Implementation Plan</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="plannedStartTime" class="block text-sm font-medium text-gray-700 required-label mb-1">Planned Start Date/Time:</label>
                        <input type="datetime-local" id="plannedStartTime" name="Planned Start Date/Time"
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="plannedEndTime" class="block text-sm font-medium text-gray-700 required-label mb-1">Planned End Date/Time:</label>
                        <input type="datetime-local" id="plannedEndTime" name="Planned End Date/Time"
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                </div>

                <div class="mb-6">
                    <label for="implementationSteps" class="block text-sm font-medium text-gray-700 required-label mb-1">Implementation Steps:</label>
                    <textarea id="implementationSteps" name="Implementation Steps" rows="5"
                              placeholder="Step-by-step breakdown of the deployment."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>

                <div>
                    <label for="responsibleTeamPersonnel" class="block text-sm font-medium text-gray-700 required-label mb-1">Responsible Team/Personnel:</label>
                    <textarea id="responsibleTeamPersonnel" name="Responsible Team/Personnel" rows="3"
                              placeholder="Names or teams accountable for execution."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>
            </section>

            <!-- Section 5: Rollback Plan -->
            <section class="mb-8 p-6 bg-gray-50 rounded-lg border border-gray-100">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-3">Section 5: Rollback Plan</h2>

                <div class="mb-6">
                    <label for="rollbackStrategy" class="block text-sm font-medium text-gray-700 required-label mb-1">Rollback Strategy:</label>
                    <textarea id="rollbackStrategy" name="Rollback Strategy" rows="4"
                              placeholder="What steps will be taken if the change fails?"
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>

                <div>
                    <label for="estimatedRollbackTime" class="block text-sm font-medium text-gray-700 required-label mb-1">Estimated Rollback Time:</label>
                    <input type="text" id="estimatedRollbackTime" name="Estimated Rollback Time" placeholder="e.g., 30 minutes"
                           class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>
            </section>

            <!-- Section 6: Testing & Validation -->
            <section class="mb-8 p-6 bg-gray-50 rounded-lg border border-gray-100">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-3">Section 6: Testing & Validation</h2>

                <div class="mb-6">
                    <label for="testingPlan" class="block text-sm font-medium text-gray-700 required-label mb-1">Testing Plan:</label>
                    <textarea id="testingPlan" name="Testing Plan" rows="4"
                              placeholder="Describe pre/post-change testing procedures."
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>

                <div>
                    <label for="validationMethod" class="block text-sm font-medium text-gray-700 required-label mb-1">Validation Method:</label>
                    <textarea id="validationMethod" name="Validation Method" rows="3"
                              placeholder="How will success be measured?"
                              class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
                </div>
            </section>

            <!-- Section 7: Approvals -->
            <section class="p-6 bg-gray-50 rounded-lg border border-gray-100">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6 border-b pb-3">Section 7: Approvals</h2>

                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-100">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider rounded-tl-md">
                                    Role/Function
                                </th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Name
                                </th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Signature
                                </th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider rounded-tr-md">
                                    Date
                                </th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <!-- Change Owner -->
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Change Owner</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Change Owner Name"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Change Owner Signature" placeholder="Sign here"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="date" name="Change Owner Date"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                            </tr>
                            <!-- IT Manager -->
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">IT Manager</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="IT Manager Name"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="IT Manager Signature" placeholder="Sign here"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="date" name="IT Manager Date"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                            </tr>
                            <!-- Department Head -->
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Department Head</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Department Head Name"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Department Head Signature" placeholder="Sign here"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="date" name="Department Head Date"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                            </tr>
                            <!-- Compliance (if needed) -->
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Compliance (if needed)</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Compliance Name"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Compliance Signature" placeholder="Sign here"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="date" name="Compliance Date"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                            </tr>
                            <!-- Change Advisory Board -->
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 rounded-bl-md">Change Advisory Board</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Change Advisory Board Name"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <input type="text" name="Change Advisory Board Signature" placeholder="Sign here"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap rounded-br-md">
                                    <input type="date" name="Change Advisory Board Date"
                                           class="block w-full border border-gray-300 rounded-md px-3 py-2 text-sm">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <div class="mt-8 text-center">
                <button type="submit"
                        class="inline-flex justify-center py-3 px-8 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out">
                    Submit Change Request
                </button>
            </div>
        </form>
    </div>

    <!-- Message box for user feedback -->
    <div id="messageBox" class="message-box hidden">
        <p>An email draft with your form data will open in your default email client. Please review and send it.</p>
        <button onclick="document.getElementById('messageBox').classList.add('hidden');">OK</button>
    </div>

    <script>
        document.getElementById('changeRequestForm').addEventListener('submit', function(event) {
            // Prevent the default form submission (which would try to send to a server)
            event.preventDefault();

            const form = event.target;
            const formData = {};

            // Helper function to show the custom message box
            function showMessageBox(message) {
                const messageBox = document.getElementById('messageBox');
                messageBox.querySelector('p').textContent = message;
                messageBox.classList.remove('hidden');
            }

            // Iterate over all form elements
            for (let i = 0; i < form.elements.length; i++) {
                const element = form.elements[i];
                // Only process elements that have a name and a value, and are not buttons or hidden
                if (element.name && element.value && !element.disabled && element.type !== 'submit' && element.type !== 'button') {
                    // Handle checkboxes (multiple values possible for the same name)
                    if (element.type === 'checkbox') {
                        if (element.checked) {
                            if (!formData[element.name]) {
                                formData[element.name] = [];
                            }
                            formData[element.name].push(element.value);
                        }
                    }
                    // Handle radio buttons (only the checked one)
                    else if (element.type === 'radio') {
                        if (element.checked) {
                            formData[element.name] = element.value;
                        }
                    }
                    // Handle other input types (text, date, datetime-local, textarea)
                    else {
                        formData[element.name] = element.value;
                    }
                }
            }

            // Format the collected data into a readable string for the email body
            let emailBody = "LBA HOSPITALITY â€“ CHANGE REQUEST FORM Submission\n\n";
            emailBody += "--- Section 1: General Information ---\n";
            emailBody += `Change Request ID: ${formData['Change Request ID'] || ''}\n`;
            emailBody += `Date Submitted: ${formData['Date Submitted'] || ''}\n`;
            emailBody += `Requested By: ${formData['Requested By'] || ''}\n`;
            // Handle department checkboxes
            if (formData['Department']) {
                let departments = Array.isArray(formData['Department']) ? formData['Department'].join(', ') : formData['Department'];
                if (formData['Department (Other)']) {
                    departments += `, Other: ${formData['Department (Other)']}`;
                }
                emailBody += `Department: ${departments}\n`;
            } else if (formData['Department (Other)']) {
                emailBody += `Department: Other: ${formData['Department (Other)']}\n`;
            } else {
                emailBody += `Department: \n`;
            }
            emailBody += `Priority Level: ${formData['Priority Level'] || ''}\n`;
            emailBody += `Type of Change: ${formData['Type of Change'] || ''}\n\n`;

            emailBody += "--- Section 2: Change Description ---\n";
            emailBody += `Title of Change: ${formData['Title of Change'] || ''}\n`;
            emailBody += `Description of Change:\n${formData['Description of Change'] || ''}\n\n`;
            emailBody += `Reason for Change:\n${formData['Reason for Change'] || ''}\n\n`;
            emailBody += `Affected Systems/Locations:\n${formData['Affected Systems/Locations'] || ''}\n\n`;

            emailBody += "--- Section 3: Impact Assessment ---\n";
            emailBody += `Business Impact:\n${formData['Business Impact'] || ''}\n\n`;
            emailBody += `Risk Assessment:\n${formData['Risk Assessment'] || ''}\n\n`;
            emailBody += `Downtime Required: ${formData['Downtime Required'] || ''}\n`;
            if (formData['Downtime Required'] === 'Yes') {
                emailBody += `Estimated Duration (Downtime): ${formData['Estimated Duration (Downtime)'] || ''}\n`;
            }
            emailBody += `Guest-Facing Impact: ${formData['Guest-Facing Impact'] || ''}\n`;
            if (formData['Guest-Facing Impact'] === 'Yes') {
                emailBody += `Guest Impact Explanation:\n${formData['Guest Impact Explanation'] || ''}\n\n`;
            } else {
                emailBody += `Guest Impact Explanation:\n\n`;
            }


            emailBody += "--- Section 4: Implementation Plan ---\n";
            emailBody += `Planned Start Date/Time: ${formData['Planned Start Date/Time'] || ''}\n`;
            emailBody += `Planned End Date/Time: ${formData['Planned End Date/Time'] || ''}\n`;
            emailBody += `Implementation Steps:\n${formData['Implementation Steps'] || ''}\n\n`;
            emailBody += `Responsible Team/Personnel:\n${formData['Responsible Team/Personnel'] || ''}\n\n`;

            emailBody += "--- Section 5: Rollback Plan ---\n";
            emailBody += `Rollback Strategy:\n${formData['Rollback Strategy'] || ''}\n\n`;
            emailBody += `Estimated Rollback Time: ${formData['Estimated Rollback Time'] || ''}\n\n`;

            emailBody += "--- Section 6: Testing & Validation ---\n";
            emailBody += `Testing Plan:\n${formData['Testing Plan'] || ''}\n\n`;
            emailBody += `Validation Method:\n${formData['Validation Method'] || ''}\n\n`;

            emailBody += "--- Section 7: Approvals ---\n";
            emailBody += "Role/Function | Name | Signature | Date\n";
            emailBody += "--------------------------------------------------\n";
            emailBody += `Change Owner | ${formData['Change Owner Name'] || ''} | ${formData['Change Owner Signature'] || ''} | ${formData['Change Owner Date'] || ''}\n`;
            emailBody += `IT Manager | ${formData['IT Manager Name'] || ''} | ${formData['IT Manager Signature'] || ''} | ${formData['IT Manager Date'] || ''}\n`;
            emailBody += `Department Head | ${formData['Department Head Name'] || ''} | ${formData['Department Head Signature'] || ''} | ${formData['Department Head Date'] || ''}\n`;
            emailBody += `Compliance (if needed) | ${formData['Compliance Name'] || ''} | ${formData['Compliance Signature'] || ''} | ${formData['Compliance Date'] || ''}\n`;
            emailBody += `Change Advisory Board | ${formData['Change Advisory Board Name'] || ''} | ${formData['Change Advisory Board Signature'] || ''} | ${formData['Change Advisory Board Date'] || ''}\n`;

            // Define recipient and subject
            const recipient = 'your_email@example.com'; // **CHANGE THIS TO THE ACTUAL RECIPIENT EMAIL ADDRESS**
            const subject = encodeURIComponent(`Change Request Form Submission - ${formData['Title of Change'] || 'Untitled'}`);

            // Encode the email body for URL
            const encodedBody = encodeURIComponent(emailBody);

            // Construct the mailto URL
            const mailtoLink = `mailto:${recipient}?subject=${subject}&body=${encodedBody}`;

            // Open the mailto link
            window.location.href = mailtoLink;

            // Show confirmation message
            showMessageBox("An email draft with your form data will open in your default email client. Please review and send it.");
        });
    </script>
</body>
</html>
